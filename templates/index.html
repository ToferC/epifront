{% extends "base.html" %}

{% block content %}
        <div class="col m-md-2 m-1">
            <h1>{{ fluent(key="welcome-to", lang=lang) }}</h1>

            <h2>Organizations</h2>

            {% for organization in organizations %}
                <li><a href="/{{ lang }}/organization/{{ organization.id }}">{{ organization.nameEn }}</a></li>
            {% endfor %}

            <hr>
            <h3>Search person by name: </h3>
                <input id="personSearchbar" class="form-control" type="text" placeholder="Enter name here" aria-label="Search Person">
                <button class="btn btn-dark" id="peopleSearch">Search</button>

            <hr>
            <h3>Search Capability</h3>
            <form name="CapabilityForm" id="capabilityForm" action=/{{ lang }}/capability_search method=POST>
                <div class="input-group">

                    <input id="name" class="form-control" type="text" placeholder="Enter name here" aria-label="Capability Name">
    
                    <select class="custom-select" id="inputGroupSelect">
                        <option selected>Choose Level</option>
                        <option value="DESIRED">Desired</option>
                        <option value="NOVICE">Novice</option>
                        <option value="EXPERIENCED">Experienced</option>
                        <option value="EXPERT">Expert</option>
                        <option value="SPECIALIST">Specialist</option>
                    </select>
                    
                    <button class="btn btn-dark" 
                        data-callback='onSubmit' 
                        data-action='submit' type=submit>Submit
                    </button>
                </div>

            </form>
                
        </div>
{% endblock content %}

{% block scripts %}
<script>
    document.getElementById("peopleSearch").addEventListener("click", peopleSearch);

    function peopleSearch() {  
        var result = document.getElementById("personSearchbar").value;  
        window.location.href = '/{{ lang }}/person_by_name/'+result;
    }

    document.getElementById("capabilitySearch").addEventListener("click", capabilitySearch);

    function capabilitySearch() {  
        var result = document.getElementById("capabilitySearchbar").value;  
        window.location.href = '/{{ lang }}/person_by_name/'+result;
    }

</script>


{% endblock scripts%}